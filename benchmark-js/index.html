<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Benchmark Js | Presentation By Akhil Arjun</title>
    <link rel="stylesheet" href="../assets/css/base.css">
    <link rel="stylesheet" href="../assets/css/prism.css">
</head>
<body>
    <section>
        <div>
            <h2>Benchmark.js</h2>
            <div class="helper">A benchmarking library that supports high-resolution timers & returns statistically significant results</div>
            <div class="content">
                <div style="text-align: right;">- Akhil Arjun</div>
            </div>
            <p>
                <a href="https://benchmarkjs.com/" target="_blank">benchmark.js</a>
            </p>
        </div>
    </section>
    <section>
        <div>
            <h3>String Reverse use-case</h3>
            <div class="content">
                <div>
                    <strong>Option 1</strong>
                    <div>
                        <div class="row">
                            <div class="cell">
                                <pre class="line-numbers"><code class="language-js">const str = "Annuity";
const reverseStr = str.split("")
    .reverse().join('');
console.log('Using split method: ', reverseStr);</code></pre>
                            </div>
                            <div class="cell code-response" id="demo1"></div>
                        </div>
                    </div>
                    <button class="run-code" onclick="runDemo1()">Run Code</button>
                </div>
            </div>
        </div>
    </section>
    <section>
        <div>
            <h3>String Reverse use-case</h3>
            <div class="content">
                <div>
                    <strong>Option 2</strong>
                    <div>
                        <div class="row">
                            <div class="cell">
                                <pre class="line-numbers"><code class="language-js">const str = "Annuity";
const reverseStr = Array.from(str)
    .reverse().join('');
console.log('Using Array.from method: ' 
    + reverseStr);</code></pre>
                            </div>
                            <div class="cell code-response" id="demo2"></div>
                        </div>
                    </div>
                    <button class="run-code" onclick="runDemo2()">Run Code</button>
                </div>
            </div>
        </div>
    </section>
    <section>
        <div>
            <h3>String Reverse use-case</h3>
            <div class="content">
                <div>
                    <strong>Option 3</strong>
                    <div>
                        <div class="row">
                            <div class="cell">
                                <pre class="line-numbers"><code class="language-js">const str = "Annuity";
const reverseStr = [...str]
    .reverse().join('');
console.log('Using spread method: '
     + reverseStr);</code></pre>
                            </div>
                            <div class="cell code-response" id="demo3"></div>
                        </div>
                    </div>
                    <button class="run-code" onclick="runDemo3()">Run Code</button>
                </div>
            </div>
        </div>
    </section>
    <section>
        <div>
            <h3>String Reverse use-case</h3>
            <div class="content">
                <div>
                    <strong>Which one is the best?</strong>
                    <div>
                        <div class="row">
                            <div class="cell">
                                <pre class="line-numbers smaller"><code class="language-js">function generateRandomString(length) {
    var result = "";
    var characters =
        "abcdefghijklmnopqrstuvwxyz0123456789";
    var charactersLength = characters.length;
    for (var i = 0; i < length; i++) {
        result += characters.charAt(
            Math.floor(Math.random() * charactersLength));
    }
    return result;
}

function generateRandomNumberBetween(min, max){
    return Math.floor(Math.random() * max) + min;
}

// 100 random strings with length between 1 and 500
const data = [];
for (let i = 0; i < 100; i++) {
    data.push(
        generateRandomString(
            generateRandomNumberBetween(1, 500)
            )
        );
}
let suite = new Benchmark.Suite;
// add tests
suite.add('Split#test', function() {
    for (const str of data) {
        str.split("");
    }
})
.add('Array.from#test', function() {
    for (const str of data) {
        Array.from(str);
    }
})
.add('Spread#test', function() {
    for (const str of data) {
        [...str]
    }
})
// add listeners
.on('cycle', function(event) {
    log(String(event.target), 'demo4');
})
.on('complete', function() {
    log('Fastest is ' + 
        this.filter('fastest').map('name'), 'demo4');
})
// run async
.run({ 'async': true });</code></pre>
                            </div>
                            <div class="cell code-response" id="demo4"></div>
                        </div>
                    </div>
                    <button class="run-code" onclick="runDemo4()">Run Code</button>
                </div>
            </div>
        </div>
    </section>
    <section>
        <div>
            <h3>Running a benchmark template</h3>
            <div class="helper">This is a temporary solution for comparing js functions</div>
            <p>
                <a href="https://jsfiddle.net/533hc71h/" target="_blank" rel="noopener noreferrer">https://jsfiddle.net/533hc71h/</a>
            </p>
        </div>
    </section>
    <section>
        <div>
            <h3>Running benchmark online</h3>
            <div class="helper">This is a GUI app that helps you run benchmark.js</div>
            <p>
                <a href="https://jsbench.me/" target="_blank" rel="noopener noreferrer">https://jsbench.me/</a>
            </p>
        </div>
    </section>
    <section>
        <div>
            <h1>Thank You!</h1>
        </div>
    </section>
    <script src="../assets/js/prism.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.20/lodash.min.js"></script>
    <script src="./benchmark.js"></script>
    <script src="./benchmark-run-demo.js"></script>
</body>
</html>
